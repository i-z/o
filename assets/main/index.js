System.register("chunks:///_virtual/FadeWindowTransition.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./WindowTransitionBase.ts"],(function(n){"use strict";var t,i,o,e,r,a,s;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy,o=n._decorator,e=n.UIOpacity,r=n.assert,a=n.tween},function(n){s=n.WindowTransitionBase}],execute:function(){var c;i._RF.push({},"0f091/sgkVJEKPw9CKR2Oj4","FadeWindowTransition",void 0);var u=o.ccclass;o.property,n("FadeWindowTransition",u("FadeWindowTransition")(c=function(n){function i(){return n.apply(this,arguments)||this}t(i,n);var o=i.prototype;return o.open=function(n){var t=n.getComponent(e);return r(t,"FadeWindowTransition requires UIOpacity"),t.opacity=0,new Promise((function(n){a(t).to(.15,{opacity:255}).call(n).start()}))},o.close=function(n){var t=n.getComponent(e);return r(t,"FadeWindowTransition requires UIOpacity"),new Promise((function(n){a(t).to(.15,{opacity:0}).call(n).start()}))},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/SettingsWindow.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./LocalSettings.ts","./Window.ts"],(function(t){"use strict";var i,n,e,o,s,r,a,c,l,u,g,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.defineProperty,r=t.createClass},function(t){a=t.cclegacy,c=t._decorator,l=t.ToggleContainer,u=t.log},function(t){g=t.InitialZoomType},function(t){f=t.default}],execute:function(){var h,p,d,_,S;t("SettingsWindowEventType",void 0),a._RF.push({},"0fb52uWkMhDJrm91FQxsRiO","SettingsWindow",void 0);var m,y=c.ccclass,v=c.property;!function(t){t.SAVE_SETTINGS="save_settings"}(m||(m=t("SettingsWindowEventType",{})));t("SettingsWindow",(h=y("SettingsWindow"),p=v(l),h((S=i((_=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,e(o(i),"initalZoom",S,o(i)),s(o(i),"_settings",void 0),i}n(i,t);var a=i.prototype;return a.changeInitialZoom=function(t){u(t),this._settings.initialZoom=g[t.node.name],u(this._settings)},a.okTouch=function(){this.node.emit(m.SAVE_SETTINGS,this._settings),this.close()},a.updateSettings=function(t){var i=this;this._settings=t,this.initalZoom.toggleItems.forEach((function(t,n){g[i._settings.initialZoom]===t.node.name&&(t.isChecked=!0)}))},r(i,[{key:"settings",get:function(){return this._settings},set:function(t){this._settings=t}}]),i}(f)).prototype,"initalZoom",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=_))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/FileInput.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,r,u,o,s;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,i=t.assertThisInitialized,r=t.createClass},function(t){u=t.cclegacy,o=t._decorator,s=t.Component}],execute:function(){var l;t("FileInputEventType",void 0),u._RF.push({},"2fb0fupJslDXoHMP/NmR1Kr","FileInput",void 0);var c,a=o.ccclass;o.property;!function(t){t.DATA_RECEIVED="data_received"}(c||(c=t("FileInputEventType",{})));t("FileInput",a("FileInput")(l=function(t){function u(){for(var e,r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];return e=t.call.apply(t,[this].concat(u))||this,n(i(e),"_input",null),n(i(e),"_currentFileName",""),e}e(u,t);var o=u.prototype;return o.start=function(){this._input=document.createElement("input"),this._input.id="inputFile",this._input.type="file",this._input.style.display="none",document.body.appendChild(this._input),this._input.addEventListener("change",this.getFileData.bind(this))},o.request=function(){this._input.click()},o.getFileData=function(t){var e=this,n=t.target;"files"in n&&n.files.length>0&&(this._currentFileName=n.files[0].name,this.readFileContent(n.files[0]).then((function(t){e.node.emit(c.DATA_RECEIVED,t)})).catch((function(t){return console.log(t)})))},o.readFileContent=function(t){var e=new FileReader;return new Promise((function(n,i){e.onload=function(t){return n(t.target.result)},e.onerror=function(t){return i(t)},e.readAsText(t)}))},r(u,[{key:"currentFileName",get:function(){return this._currentFileName}}]),u}(s))||l);u._RF.pop()}}}));

System.register("chunks:///_virtual/DOMHelper.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e("downloadTextFromBrowser",(function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)})),t._RF.push({},"33ddcRL9fxIl5uIfbHp/Ugr","DOMHelper",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/FileMetaProvider.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./FileMeta.ts"],(function(e){"use strict";var t,i,a,s,r;return{setters:[function(e){t=e.createClass,i=e.defineProperty},function(e){a=e.cclegacy,s=e.sys},function(e){r=e.FileMeta}],execute:function(){a._RF.push({},"35d96H04K5DCpA55bzP4609","FileMetaProvider",void 0);e("FileMetaProvider",function(){function e(){var e=this;i(this,"_metaFileProviderStorageKey","metaFilesKeys"),i(this,"_fileNameKey",new Map),i(this,"_filesMetas",new Map),i(this,"_newIdx",0);var t=s.localStorage.getItem(this._metaFileProviderStorageKey),a=JSON.parse(t);for(var n in a){var o=a[n];this._fileNameKey.set(n,o);var l=parseInt(o);!isNaN(l)&&l>=this._newIdx&&(this._newIdx=l+1)}this._fileNameKey.forEach((function(t,i){var a=s.localStorage.getItem(t);a&&e._filesMetas.set(t,new r(t,JSON.parse(a),e.metaChanged.bind(e)))}))}var a=e.prototype;return a.metaChanged=function(e){e&&localStorage.setItem(e.key,e.toJSON())},a.getFileMeta=function(e){var t=null,i=this._fileNameKey.get(e);if(i)(t=this._filesMetas.get(i))||(t=this.createFileMeta(i));else{var a=String(this._newIdx);this._fileNameKey.set(e,a),this._newIdx++,t=this.createFileMeta(a)}return this.save(),t},a.createFileMeta=function(e){var t=new r(e,{},this.metaChanged.bind(this));return this._filesMetas.set(e,t),t},a.mapToJson=function(e){var t={};return e.forEach((function(e,i){return t[i]=e})),JSON.stringify(t)},a.save=function(){var e=this;localStorage.setItem(this._metaFileProviderStorageKey,this.mapToJson(this._fileNameKey)),this._filesMetas.forEach((function(t,i){e.metaChanged(t)}))},t(e,[{key:"files",get:function(){return Array.from(this._fileNameKey.keys())}}]),e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/WindowDirector.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./WindowManager.ts"],(function(n){"use strict";var i,e,t,o,a,r,s;return{setters:[function(n){i=n.defineProperty,e=n.createClass},function(n){t=n.cclegacy,o=n._decorator,a=n.director,r=n.assert},function(n){s=n.WindowManager}],execute:function(){var d,c,l;t._RF.push({},"3da0eUnbcxAo7Va1DBKt7rb","WindowDirector",void 0);var w=o.ccclass;o.property,n("default",w("WindowDirector")((l=c=function(){function n(){i(this,"_initialized",!1),i(this,"_windowManager",null)}var t=n.prototype;return t.init=function(){if(!this._initialized){var n=a.getScene().getComponentsInChildren(s);r(n,"Can't find WindowManager"),r(1==n.length,"WindowManager has to be single"),this._windowManager=n[0],this._initialized=!0}},t.openWindow=function(n){return r(this._initialized,"WindowManager not initilized"),r(this._windowManager,"WindowManager doesn't exist"),this._windowManager.openWindow(n)},t.closeWindow=function(n){r(this._initialized,"WindowManager not initilized"),r(this._windowManager,"WindowManager doesn't exist"),this._windowManager.closeWindow(n)},e(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new this)}}]),n}(),i(c,"_instance",null),d=l))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/FileData.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"4223fM9wcJFWb4RxLXiVLEI","FileData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/WindowManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./WindowTransitionBase.ts","./Window.ts"],(function(i){"use strict";var n,t,e,o,r,a,s,d,w,u,l,c,h,f,p,v,g;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.initializerDefineProperty,e=i.inheritsLoose,o=i.assertThisInitialized,r=i.defineProperty},function(i){a=i.cclegacy,s=i._decorator,d=i.Node,w=i.log,u=i.assert,l=i.view,c=i.UIOpacity,h=i.tween,f=i.Component},function(i){p=i.WindowTransitionBase},function(i){v=i.WindowBehaviour,g=i.default}],execute:function(){var _,y,W,m,b,C,M,k,z,T,D,O,A;a._RF.push({},"4ff4duuGkhEcYKER81Ssf0B","WindowManager",void 0);var B=s.ccclass,L=s.property,S=i("WindowNode",(_=B("WindowNode"),y=L(d),_((b=n((m=function(){t(this,"name",b,this),t(this,"window",C,this)}).prototype,"name",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=n(m.prototype,"window",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=m))||W));i("WindowManager",(M=B("WindowManager"),k=L([S]),z=L(d),M((O=n((D=function(i){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return n=i.call.apply(i,[this].concat(a))||this,t(o(n),"windows",O,o(n)),t(o(n),"darkCover",A,o(n)),r(o(n),"_defaultTransition",null),r(o(n),"_activeWindows",new Map),r(o(n),"_windows",new Array),n}e(n,i);var a=n.prototype;return a.start=function(){this._defaultTransition=this.getComponent(p),this._defaultTransition||w("WindowManager's default transition is not set"),this.windows.forEach((function(i){return i.window.active=!1}))},a.openWindow=function(i){if(this._windows.length>0&&this._windows[this._windows.length-1].behaviour==v.MODAL)return w("Modal window prevents from opening other windows"),null;var n=this.windows.find((function(n){return n.name==i}));if(!n)return u(!1,"Can't find window "+i),null;if(this._activeWindows.get(i))return w("Window "+i+" already in use"),null;var t=n.window.getComponent(g);if(t||(t=n.window.addComponent(g)),t.name=i,!t.show(this._defaultTransition))return null;t.node.parent.active=!0;var e=l.getVisibleSize(),o=t.windowSize;if(e.width<o.width&&(o.width=e.width),e.height<o.height&&(o.height=e.height),t.windowSize=o,this._activeWindows.set(i,t),this._windows.push(t),t.behaviour==v.MODAL){var r=this.darkCover.getComponent(c);u(r,"WindowManager's darkCover requires UIOpacity component"),r.opacity=0,this.darkCover.active=!0,h(r).to(.15,{opacity:255}).start()}return t},a.closeWindow=function(i){var n=this;if(this.windows.find((function(n){return n.name==i}))){var t=this._activeWindows.get(i);if(t){if(t.hide(this._defaultTransition)){if(t.behaviour==v.MODAL&&t===this._windows[this._windows.length-1]){var e=this.darkCover.getComponent(c);u(e,"WindowManager's darkCover requires UIOpacity component"),h(e).to(.15,{opacity:0}).call((function(){return n.darkCover.active=!1})).start()}this._activeWindows.delete(i),this._windows=this._windows.filter((function(n){return n.name!=i}))}}else w("Window "+i+" already closed")}else u(!1,"Can't find window "+i)},n}(f)).prototype,"windows",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(D.prototype,"darkCover",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=D))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/ListItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,o,s,a,c,u,l,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.defineProperty,n=t.assertThisInitialized,o=t.initializerDefineProperty,s=t.createClass},function(t){a=t.cclegacy,c=t._decorator,u=t.Label,l=t.UITransform,d=t.Component}],execute:function(){var p,f,h,x,m,g,I;t("ListItemEvent",void 0),a._RF.push({},"5003fYUJ8hHAaZdiS8xFMfE","ListItem",void 0);var y,b=c.ccclass,v=c.property;!function(t){t.SELECT="select"}(y||(y=t("ListItemEvent",{})));t("ListItem",(p=b("ListItem"),f=v(u),p((m=e((x=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,r(n(e),"_idx",void 0),o(n(e),"text",m,n(e)),o(n(e),"addIdxToString",g,n(e)),o(n(e),"startIdxFromZero",I,n(e)),e}i(e,t);var a=e.prototype;return a.start=function(){},a.init=function(){this.node.getComponent(l).anchorX=0},a.setString=function(t,e){this._idx=t,this.addIdxToString?this.startIdxFromZero?this.text.string=" "+t+" "+e:this.text.string=" "+(t+1)+" "+e:this.text.string=e},a.select=function(t){t.isChecked&&this.node.emit(y.SELECT,this._idx)},s(e,[{key:"index",get:function(){return this._idx}}]),e}(d)).prototype,"text",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(x.prototype,"addIdxToString",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=e(x.prototype,"startIdxFromZero",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),h=x))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenDirector.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ScreenManager.ts","./TransitionBase.ts"],(function(n){"use strict";var e,t,r,i,a,s,c,o;return{setters:[function(n){e=n.defineProperty,t=n.createClass},function(n){r=n.cclegacy,i=n._decorator,a=n.director,s=n.assert},function(n){c=n.ScreenManager},function(n){o=n.TransitionBase}],execute:function(){var u,l,f;r._RF.push({},"50e8dM3+fVNJrXX/28mGtRt","ScreenDirector",void 0);var h=i.ccclass;i.property,n("default",h("ScreenDirector")((f=l=function(){function n(){e(this,"_initialized",!1),e(this,"_screenManager",null),e(this,"_defaultTransition",null)}var r=n.prototype;return r.init=function(){if(!this._initialized){var n=a.getScene().getComponentsInChildren(c);s(n,"Can't find ScreenManager"),s(1==n.length,"ScreenManager has to be single"),this._screenManager=n[0],this._screenManager.runDefaultScreen(),this._defaultTransition=this._screenManager.getComponent(o),this._initialized=!0}},r.runScreeenWithDefaultTransition=function(n){var e=this;s(this._defaultTransition,"Default transition doesn't exist"),this._defaultTransition.begin().then((function(){return e.runScreen(n)})).then((function(){return e._defaultTransition.end()}))},r.runScreen=function(n){s(this._screenManager,"ScreenManager doesn't exists"),this._screenManager.runScreen(n)},t(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new this)}}]),n}(),e(l,"_instance",null),u=f))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/InputWindow.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Window.ts","./ListItem.ts","./ListScrollView.ts"],(function(t){"use strict";var i,n,e,o,r,s,a,u,c,l,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty},function(t){s=t.cclegacy,a=t._decorator,u=t.EditBox},function(t){c=t.default},function(t){l=t.ListItem},function(t){d=t.ListScrollView}],execute:function(){var p,h,f,_,w,v,m;t("InputWindowEvents",void 0),s._RF.push({},"6455ch6ENhHp4z/idbk1LT/","InputWindow",void 0);var x,L=a.ccclass,y=a.property;!function(t){t.INPUT="input",t.DOWNLOAD_META="download_meta"}(x||(x=t("InputWindowEvents",{})));t("InputWindow",(p=L("InputWindow"),h=y(u),f=y(d),p((v=i((w=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,e(o(i),"text",v,o(i)),e(o(i),"metasList",m,o(i)),r(o(i),"_data",[]),r(o(i),"_idx",-1),i}n(i,t);var s=i.prototype;return s.start=function(){},s.textChanged=function(t){},s.okTouch=function(){this.node.emit(x.INPUT,this.text.string)},s.setFilesWithMetaDate=function(t){var i;this._data=t,this.metasList.setData(t),(null===(i=this._data)||void 0===i?void 0:i.length)>0&&(this._idx=0)},s.selectFileToDownload=function(t){var i=t.getComponent(l);i&&(this._idx=i.index)},s.downloadTouch=function(){this._idx>=0&&this.node.emit(x.DOWNLOAD_META,this._data[this._idx])},i}(c)).prototype,"text",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(w.prototype,"metasList",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=w))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/StrokeBorder.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,r,e,n,i,s;return{setters:[function(t){o=t.inheritsLoose},function(t){r=t.cclegacy,e=t._decorator,n=t.Graphics,i=t.UITransform,s=t.Component}],execute:function(){var c;r._RF.push({},"6d965Z41i1EWLxZpU3m6PgX","StrokeBorder",void 0);var p=e.ccclass;e.property,t("StrokeBorder",p("StrokeBorder")(c=function(t){function r(){return t.apply(this,arguments)||this}return o(r,t),r.prototype.start=function(){var t=this.getComponent(n),o=this.getComponent(i);t.rect(this.node.position.x,this.node.position.y,o.width,o.height),t.stroke()},r}(s))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/TransitionBase.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var r,e,t,o,i;return{setters:[function(n){r=n.inheritsLoose,e=n.asyncToGenerator},function(n){t=n.cclegacy,o=n._decorator,i=n.Component}],execute:function(){var s;t._RF.push({},"8714bBrysJM+5ym/7HM7m2J","TransitionBase",void 0);var a=o.ccclass;o.property,n("TransitionBase",a("TransitionBase")(s=function(n){function t(){return n.apply(this,arguments)||this}r(t,n);var o=t.prototype;return o.begin=function(){var n=e(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o.end=function(){var n=e(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),t}(i))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/FileMeta.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,a;return{setters:[function(t){e=t.createClass,i=t.defineProperty},function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"885f8i6D/JLKLVzwMBuxlZT","FileMeta",void 0);t("FileMeta",function(){function t(t,e,a){i(this,"_key",void 0),i(this,"_data",void 0),i(this,"_metaChanged",null),this._key=t,this._data=e,this._metaChanged=a,this._data.favorites||(this._data.favorites=[]),this._data.deleted||(this._data.deleted=[])}var a=t.prototype;return a.addFavorite=function(t){this._data.favorites.push(t),this.raiseMetaChanged()},a.removeFromFavorites=function(t){var e=this._data.favorites.find((function(e){return e.index==t}));if(e){var i=this._data.favorites.indexOf(e);i>=0&&this._data.favorites.splice(i,1)}this.raiseMetaChanged()},a.delete=function(t){this._data.deleted.push(t),this.raiseMetaChanged()},a.restore=function(t){var e=this._data.deleted.indexOf(t);e>=0&&this._data.deleted.splice(e,1),this.raiseMetaChanged()},a.isLiked=function(t){return null!=this._data.favorites.find((function(e){return e.index==t}))},a.isDeleted=function(t){return this._data.deleted.indexOf(t)>=0},a.raiseMetaChanged=function(){this._metaChanged&&this._metaChanged(this)},a.toJSON=function(){return JSON.stringify(this._data)},e(t,[{key:"key",get:function(){return this._key}},{key:"data",get:function(){return this._data}}]),t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/Bounds.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,s,c,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,s=t.Vec2,c=t.Size,r=t.Rect}],execute:function(){n._RF.push({},"8bb35iiCmNBN7nMB2ZwnW2n","Bounds",void 0);t("Bounds",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),i(n,[{key:"contentSize",get:function(){return new s(this.size.width,this.size.y)},set:function(t){var e=this.center;this.x=e.x-t.x/2,this.y=e.y-t.y/2,this.size=new c(t.x,t.y)}},{key:"center",get:function(){return new s(this.x+this.width/2,this.y+this.height/2)},set:function(t){var e=this.center.subtract(t);this.x-=e.x,this.y-=e.y}}]),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/Favorite.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"8ea6fzePRVBRql3xzISuasv","Favorite",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ResetWorldPosition.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,r,s,i,c,a,l;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,i=e.Vec3,c=e.view,a=e.tween,l=e.Component}],execute:function(){var u;r._RF.push({},"a0289bF6StMvLXS55c2beX1","ResetWorldPosition",void 0);var d=s.ccclass;s.property,e("ResetWorldPosition",d("ResetWorldPosition")(u=function(e){function r(){for(var t,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t=e.call.apply(e,[this].concat(s))||this,n(o(t),"_resetTween",null),t}t(r,e);var s=r.prototype;return s.reset=function(){this.node.worldPosition=new i(0,0,this.node.worldPosition.z)},s.start=function(){var e=this;c.on("canvas-resize",(function(){e._resetTween&&e._resetTween.stop(),e._resetTween=a(e).delay(.01).call((function(){return e.reset()})).start()})),this.reset()},r}(l))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/WindowTransitionBase.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var r,e,t,o,i;return{setters:[function(n){r=n.inheritsLoose,e=n.asyncToGenerator},function(n){t=n.cclegacy,o=n._decorator,i=n.Component}],execute:function(){var a;t._RF.push({},"a3c40z6BN9BnYVZMVUeQjBe","WindowTransitionBase",void 0);var s=o.ccclass;o.property,n("WindowTransitionBase",s("WindowTransitionBase")(a=function(n){function t(){return n.apply(this,arguments)||this}r(t,n);var o=t.prototype;return o.open=function(){var n=e(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),o.close=function(){var n=e(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),t}(i))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/LocalSettings.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,s,n,o;return{setters:[function(t){i=t.defineProperty,e=t.createClass},function(t){s=t.cclegacy,n=t._decorator,o=t.sys}],execute:function(){var a,c,r;t("InitialZoomType",void 0),s._RF.push({},"a5518ljsFVN5Z/o1HQVSMHt","LocalSettings",void 0);var l,u=n.ccclass;n.property;!function(t){t[t.CENTERED=0]="CENTERED",t[t.COMICS=1]="COMICS",t[t.FIT=2]="FIT"}(l||(l=t("InitialZoomType",{})));t("default",u("LocalSettings")((r=c=function(){function t(){i(this,"_initialized",!1),i(this,"_storageKey","settings"),i(this,"_settings",{initialZoom:l.CENTERED})}var s=t.prototype;return s.init=function(){if(!this._initialized){var t=o.localStorage.getItem(this._storageKey);(null==t?void 0:t.length)>0&&(this._settings=JSON.parse(t)),this._initialized=!0}},s.save=function(){o.localStorage.setItem(this._storageKey,JSON.stringify(this._settings))},e(t,[{key:"initialZoom",get:function(){return this._settings.initialZoom},set:function(t){this._settings.initialZoom=t,this.save()}},{key:"settings",get:function(){return Object.assign({},this._settings)},set:function(t){this._settings=t,this.save()}}],[{key:"instance",get:function(){return this._instance||(this._instance=new this)}}]),t}(),i(c,"_instance",void 0),a=r))||a);s._RF.pop()}}}));

System.register("chunks:///_virtual/MainScene.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./LocalSettings.ts","./WindowDirector.ts","./SettingsWindow.ts"],(function(n){"use strict";var t,e,i,o,c,s,u;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,o=n.Component},function(n){c=n.default},function(n){s=n.default},function(n){u=n.SettingsWindowEventType}],execute:function(){var a;n("MainSceneEventType",void 0),e._RF.push({},"a566e9UZdlG+Yujok5b6t7t","MainScene",void 0);var r,p=i.ccclass;i.property;!function(n){n.FILE_INPUT_REQUESTED="file_input_requested"}(r||(r=n("MainSceneEventType",{})));n("MainScene",p("MainScene")(a=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var i=e.prototype;return i.start=function(){c.instance.init(),s.instance.init()},i.openFileInputWindow=function(){this.node.emit(r.FILE_INPUT_REQUESTED)},i.openSettings=function(){var n=s.instance.openWindow("settings");n.updateSettings(c.instance.settings),n.node.on(u.SAVE_SETTINGS,(function(n){c.instance.settings=n}))},e}(o))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/Window.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./WindowDirector.ts"],(function(t){"use strict";var n,e,i,o,s,r,a,c,d,u,h,l,p,O;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.defineProperty,r=t.createClass},function(t){a=t.cclegacy,c=t._decorator,d=t.UITransform,u=t.Widget,h=t.Enum,l=t.log,p=t.Component},function(t){O=t.default}],execute:function(){var f,C,E,N,S,L,g;t({WindowBehaviour:void 0,WindowEventType:void 0,WindowState:void 0}),a._RF.push({},"a6b23d8nKBKCZZjQPDOsLjS","Window",void 0);var m,w,v,D=c.ccclass,y=c.property,_=c.requireComponent;!function(t){t[t.CLOSED=0]="CLOSED",t[t.OPENING=1]="OPENING",t[t.OPEN=2]="OPEN",t[t.CLOSING=3]="CLOSING"}(m||(m=t("WindowState",{}))),function(t){t[t.NORMAL=0]="NORMAL",t[t.MODAL=1]="MODAL"}(w||(w=t("WindowBehaviour",{}))),function(t){t.OPENING="opening",t.OPENED="opened",t.CLOSING="closing",t.CLOSED="closed"}(v||(v=t("WindowEventType",{})));t("default",(f=D("Window"),C=_(d),E=_(u),N=y({type:h(w)}),f(S=C(S=E((g=n((L=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(o(n),"behaviour",g,o(n)),s(o(n),"_state",m.CLOSED),s(o(n),"_transform",null),s(o(n),"_windowSize",void 0),n}e(n,t);var a=n.prototype;return a.onLoad=function(){this._transform=this.getComponent(d)},a.show=function(t){return this.getState()==m.CLOSED?(this.onOpening(),t?t.open(this.node).then(this.onOpened.bind(this)):this.onOpened(),!0):(l("Window "+this.name+" not ready to open"),!1)},a.hide=function(t){return this.getState()==m.OPEN?(this.onClosing(),t?t.close(this.node).then(this.onClosed.bind(this)):this.onClosed(),!0):(l("Window "+this.name+" not ready to close"),!1)},a.close=function(){O.instance.closeWindow(this.name)},a.getState=function(){return this._state},a.onOpening=function(){this._state=m.OPENING,this.node.active=!0,this.node.emit(v.OPENING)},a.onOpened=function(){this._state=m.OPEN,this.node.emit(v.OPENED)},a.onClosing=function(){this._state=m.CLOSING,this.node.emit(v.CLOSING)},a.onClosed=function(){this._state=m.CLOSED,this.node.emit(v.CLOSED),this.node.active=!1},r(n,[{key:"windowSize",get:function(){return this._transform.contentSize},set:function(t){this._transform.contentSize=t,this.getComponent(u).updateAlignment()}}]),n}(p)).prototype,"behaviour",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.MODAL}}),S=L))||S)||S)||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollInput.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var t,e,l,s,r,o,n,c,h,a,v;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,l=i.initializerDefineProperty,s=i.assertThisInitialized,r=i.defineProperty,o=i.createClass},function(i){n=i.cclegacy,c=i._decorator,h=i.Node,a=i.Vec2,v=i.Component}],execute:function(){var u,_,p,d,D,y,f,m,g,b,x;i("ScrollInputEventType",void 0),n._RF.push({},"aa32duC2GpFv7/PyKD2qu0G","ScrollInput",void 0);var w,B=c.ccclass,T=c.property;!function(i){i.UPDATE_Y="update_y",i.UPDATE_X="update_x"}(w||(w=i("ScrollInputEventType",{})));i("ScrollInput",(u=B("ScrollInput"),_=T(h),p=T(a),u((y=t((D=function(i){function t(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=i.call.apply(i,[this].concat(o))||this,l(s(t),"touchInputPanel",y,s(t)),l(s(t),"width",f,s(t)),l(s(t),"height",m,s(t)),l(s(t),"min",g,s(t)),l(s(t),"max",b,s(t)),l(s(t),"canvasPosition",x,s(t)),r(s(t),"_scrollDiv",null),r(s(t),"_scrollBorderDiv",null),r(s(t),"_innerDiv",null),r(s(t),"_scrollBarSize",0),r(s(t),"_canvasRect",null),r(s(t),"_valueY",0),r(s(t),"_riseXTime",new Date),r(s(t),"_XRollbackTime",1e3),t}e(t,i);var n=t.prototype;return n.onLoad=function(){var i=this;this._scrollDiv=document.createElement("div"),this._scrollDiv.id="scrollDiv",this._scrollDiv.style.width=this.width+"px",this._scrollDiv.style.height=this.height+"px",this._scrollDiv.style.position="absolute",this._scrollDiv.style.left="0px",this._scrollDiv.style.top="0px",this._scrollDiv.style.overflow="scroll",this._scrollDiv.style.opacity="0",this._scrollBorderDiv=document.createElement("div"),this._scrollBorderDiv.id="scrollBorderDiv",this._scrollBorderDiv.style.width=this.width-2+"px",this._scrollBorderDiv.style.height=this.height-2+"px",this._scrollBorderDiv.style.position="absolute",this._scrollBorderDiv.style.left="0px",this._scrollBorderDiv.style.top="0px",this._scrollBorderDiv.style.border="1px solid",this._innerDiv=document.createElement("div"),this._innerDiv.style.height=this.height+"px",this._innerDiv.style.backgroundColor="red",this._innerDiv.style.backgroundImage="radial-gradient(circle, #000000 1px, rgba(0, 0, 0, 0) 1px)",this._innerDiv.style.backgroundSize="20px 20px",this._scrollDiv.appendChild(this._innerDiv),document.body.appendChild(this._scrollBorderDiv),document.body.appendChild(this._scrollDiv),this._scrollBarSize=this._scrollDiv.offsetHeight-this._scrollDiv.clientHeight,this.updateSize(),this._scrollDiv.addEventListener("scroll",(function(t){i._scrollDiv.scrollTop+i.min!=i._valueY&&(i.node.emit(w.UPDATE_Y,i._scrollDiv.scrollTop+i.min),i._valueY=i._scrollDiv.scrollTop+i.min);var e=new Date;1!=i._scrollDiv.scrollLeft&&e.getTime()-i._riseXTime.getTime()>i._XRollbackTime&&(i._riseXTime=e,i.node.emit(w.UPDATE_X,i._scrollDiv.scrollLeft-1)),i._scrollDiv.scrollLeft=1})),this._scrollDiv.addEventListener("mousemove",(function(i){})),this.node.on(h.EventType.SIZE_CHANGED,this.updateSize.bind(this))},n.updateSize=function(){var i=document.getElementById("GameCanvas");this._canvasRect=i.getBoundingClientRect(),this._scrollDiv.style.width=this.width+"px",this._scrollDiv.style.height=this.height+"px",this._innerDiv.style.width=this.width-this._scrollBarSize+3+"px",this._innerDiv.style.height=this._scrollDiv.offsetHeight-this._scrollBarSize+(this.max-this.min)+"px",this._scrollDiv.style.left=this._canvasRect.x+this.canvasPosition.x*(this._canvasRect.width-this._scrollDiv.offsetWidth)+"px",this._scrollDiv.style.top=this._canvasRect.y+(1-this.canvasPosition.y)*(this._canvasRect.height-this._scrollDiv.offsetHeight)+"px",this._scrollBorderDiv.style.width=this.width-2+"px",this._scrollBorderDiv.style.height=this.height-2+"px",this._scrollBorderDiv.style.left=this._scrollDiv.style.left,this._scrollBorderDiv.style.top=this._scrollDiv.style.top,this._scrollDiv.scrollLeft=1},o(t,[{key:"valueY",get:function(){return this._scrollDiv.scrollTop+this.min},set:function(i){this._valueY=Math.round(i),this._scrollDiv.scrollTop=Math.round(i)-this.min}}]),t}(v)).prototype,"touchInputPanel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=t(D.prototype,"width",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),m=t(D.prototype,"height",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),g=t(D.prototype,"min",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=t(D.prototype,"max",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 860}}),x=t(D.prototype,"canvasPosition",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(1,0)}}),d=D))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/DockPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,r,a,c,s,l,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty},function(t){a=t.cclegacy,c=t._decorator,s=t.Widget,l=t.UITransform,u=t.tween,p=t.Component}],execute:function(){var f,h,d,m,g,w;a._RF.push({},"adafePO+81E7bv6kGc0PzoB","DockPanel",void 0);var y=c.ccclass,v=c.property;t("DockPanel",(f=y("DockPanel"),h=v(s),f((g=e((m=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,n(o(e),"widget",g,o(e)),n(o(e),"animationTime",w,o(e)),r(o(e),"_contentSize",void 0),e}i(e,t);var a=e.prototype;return a.start=function(){var t=this.node.getComponent(l);this._contentSize=t.contentSize,this.widget.left=-this._contentSize.width},a.show=function(){u(this.widget).to(this.animationTime,{left:0}).start()},a.hide=function(){u(this.widget).to(this.animationTime,{left:-this._contentSize.width}).start()},e}(p)).prototype,"widget",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(m.prototype,"animationTime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),d=m))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerCameraManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Bounds.ts","./ScrollInput.ts"],(function(t){"use strict";var i,e,o,n,s,r,a,h,c,l,u,p,m,_,g,d,f,z,P,S,y,b,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.defineProperty,r=t.createClass},function(t){a=t.cclegacy,h=t._decorator,c=t.Node,l=t.Camera,u=t.Label,p=t.Vec2,m=t.Vec3,_=t.view,g=t.UITransform,d=t.Size,f=t.clamp,z=t.misc,P=t.log,S=t.Component},function(t){y=t.Bounds},function(t){b=t.ScrollInput,v=t.ScrollInputEventType}],execute:function(){var w,x,M,I,T,D,H,L,E,O,R,C,V,A,U,B,Y,k,F,N,W,X;a._RF.push({},"afd5fAT8NFPTZQf1meXq080","PlayerCameraManager",void 0);var Z=h.ccclass,q=h.property;t("PlayerCameraManager",(w=Z("PlayerCameraManager"),x=q(c),M=q(l),I=q(c),T=q(b),D=q(u),w((E=i((L=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,o(n(i),"zoomMin",E,n(i)),o(n(i),"zoomStep",O,n(i)),o(n(i),"zoomDuration",R,n(i)),o(n(i),"panSpeed",C,n(i)),o(n(i),"deceleration",V,n(i)),o(n(i),"panMoveDelta",A,n(i)),o(n(i),"smoothPan",U,n(i)),o(n(i),"panEndAcceleration",B,n(i)),o(n(i),"touchInputPanel",Y,n(i)),o(n(i),"camera",k,n(i)),o(n(i),"limits",F,n(i)),o(n(i),"scrollInput",N,n(i)),o(n(i),"limitCamera",W,n(i)),o(n(i),"currentScale",X,n(i)),s(n(i),"_zoomMax",800),s(n(i),"_startPosition",void 0),s(n(i),"_currentPanSpeed",new p),s(n(i),"_panEnd",!1),s(n(i),"_scrollOrtographicSize",0),s(n(i),"_epsilon",.01),s(n(i),"_zooming",!1),s(n(i),"_panning",!1),s(n(i),"_zoomDetecting",!1),s(n(i),"_zoomPanDirection",new m),s(n(i),"_cameraLimits",void 0),s(n(i),"_aspectRatio",void 0),s(n(i),"_mousePosition",new p),s(n(i),"_previousDistance",0),s(n(i),"_touches",[]),s(n(i),"_fistTouchId",-1),i}e(i,t);var a=i.prototype;return a.start=function(){var t=this;this.touchInputPanel&&(this.touchInputPanel.on(c.EventType.TOUCH_START,this.onTouchBegan,this,!0),this.touchInputPanel.on(c.EventType.TOUCH_END,this.onTouchEnded,this,!0),this.touchInputPanel.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this,!0),this.touchInputPanel.on(c.EventType.MOUSE_WHEEL,this.onMouseWheel,this,!0),this.touchInputPanel.on(c.EventType.MOUSE_MOVE,this.onMouseMove,this,!0)),this._scrollOrtographicSize=this.orthoHeight,this._aspectRatio=_.getVisibleSizeInPixel().width/_.getVisibleSizeInPixel().height,this.scrollInput.node.on(v.UPDATE_Y,(function(i){t.orthoHeight=i,t._scrollOrtographicSize=t.orthoHeight}));var i=this.limits.getComponent(g);this.setLimits(new y(this.limits.position.x-i.width*i.anchorX,this.limits.position.y-i.height*i.anchorY,i.width,i.height)),_.on("canvas-resize",(function(){t._aspectRatio=_.getVisibleSizeInPixel().width/_.getVisibleSizeInPixel().height,t.updateLimits()}))},a.updateLimits=function(){var t=new d(_.getVisibleSizeInPixel().width/devicePixelRatio,_.getVisibleSizeInPixel().height/devicePixelRatio),i=this._cameraLimits.width/t.width,e=this._cameraLimits.height/t.height;this._zoomMax=e>i?Math.max(this._cameraLimits.height/2,t.height/2):Math.max(this._cameraLimits.width/this._aspectRatio/2,t.width/this._aspectRatio/2),this.scrollInput.min=this.zoomMin,this.scrollInput.max=this._zoomMax,this.scrollInput.updateSize(),this.scrollInput.valueY=this.orthoHeight},a.setLimits=function(t){this._cameraLimits=t,this.updateLimits()},a.scrollBy=function(t,i){if(!this._zooming){var e=t>0?t:1/Math.abs(t),o=this._scrollOrtographicSize*e;if(o=f(o,this.zoomMin,this._zoomMax),this._scrollOrtographicSize==o)return;if(this._scrollOrtographicSize=o,i){var n=this.camera.convertToUINode(new m(this.worldMousePosition.x,this.worldMousePosition.y,0),this.touchInputPanel),s=2*n.x/(_.getVisibleSizeInPixel().width/devicePixelRatio),r=2*n.y/(_.getVisibleSizeInPixel().height/devicePixelRatio);this._zoomPanDirection=new m(s*this._aspectRatio,r,0).multiplyScalar(-Math.sign(t))}this._currentPanSpeed.multiplyScalar(e),this._zooming=!0}},a.onMouseWheel=function(t){this.scrollBy(z.clampf(t.getScrollY(),-1,1)*this.zoomStep*-1,!0)},a.readTouches=function(t){var i=this;if(this._mousePosition=t.touch.getLocation(),this._touches=t.getAllTouches(),this._touches.length>1?(this._zoomDetecting||(this._fistTouchId=this._touches.filter((function(i){return i.getID()!=t.touch.getID()}))[0].getID(),this._previousDistance=0,P("Start zoom detection "+this._fistTouchId)),this._zoomDetecting=!0):this._zoomDetecting=!1,-1!=this._fistTouchId){var e=this._touches.find((function(t){return t.getID()==i._fistTouchId}));e?this._mousePosition=e.getLocation():this._fistTouchId=-1}},a.onTouchBegan=function(t){this.readTouches(t),this._startPosition=this.worldMousePosition,this._panEnd=!1,this._panning=!0},a.onTouchEnded=function(t){this._panEnd=!0;var i=this.smoothPan?1:this.panEndAcceleration;this._currentPanSpeed=p.subtract(new p,this._startPosition,this.worldMousePosition).multiplyScalar(i)},a.zoom=function(t){var i=this._scrollOrtographicSize-this.orthoHeight,e=Math.sign(i),o=1*t/this.zoomDuration*this._scrollOrtographicSize/(e/2+1.5);if(this.orthoHeight+=e*o,i=this._scrollOrtographicSize-this.orthoHeight,0!=this._zoomPanDirection.x||0!=this._zoomPanDirection.y){m.multiplyScalar(new m,this._zoomPanDirection,o);this.camera.node.position=this.camera.node.position.add(m.multiplyScalar(new m,this._zoomPanDirection,o))}(i>-this._epsilon&&i<this._epsilon||e!=Math.sign(i))&&(this.orthoHeight=this._scrollOrtographicSize,this._zoomPanDirection=new m,this._zooming=!1)},a.pan=function(t){if(this._panEnd){var i=Math.sign(this._currentPanSpeed.x),e=new p(this._currentPanSpeed).normalize();this._currentPanSpeed.x-=this.deceleration*e.x*t,i!=Math.sign(this._currentPanSpeed.x)&&(this._currentPanSpeed.x=0),i=Math.sign(this._currentPanSpeed.y),this._currentPanSpeed.y-=this.deceleration*e.y*t,i!=Math.sign(this._currentPanSpeed.y)&&(this._currentPanSpeed.y=0)}else this._currentPanSpeed=p.subtract(new p,this._startPosition,this.worldMousePosition);this.limitCamera&&(2*this.orthoHeight*this._aspectRatio>=this._cameraLimits.width&&(this._currentPanSpeed.x=0-this.camera.node.position.x),2*this.orthoHeight>=this._cameraLimits.height&&(this._currentPanSpeed.y=0-this.camera.node.position.y));var o=this.smoothPan||this._panEnd?t*this.panSpeed:1;this.camera.node.position.add(new m(this._currentPanSpeed.x,this._currentPanSpeed.y,0).multiplyScalar(o));var n=new m(this.camera.node.position);this.cameraPosition=this.camera.node.position,this.camera.node.position.x!=n.x&&(this._currentPanSpeed.x=0),this.camera.node.position.y!=n.y&&(this._currentPanSpeed.y=0),this._panEnd&&this._currentPanSpeed.lengthSqr()<this._epsilon*this._epsilon&&(this._panning=!1)},a.zoomDetection=function(){if(this._touches.length>1){var t=p.distance(this._touches[0].getLocation(),this._touches[1].getLocation()),i=t-this._previousDistance;(i>this._epsilon||i<-this._epsilon)&&0!=this._previousDistance&&(this.orthoHeight*=this._previousDistance/t,this.orthoHeight=z.clampf(this.orthoHeight,this.zoomMin,this._zoomMax)),this._previousDistance=t}},a.update=function(t){this._zooming&&this.zoom(t),this._panning&&this.pan(t),this._zoomDetecting&&this.zoomDetection()},a.onTouchMove=function(t){this.readTouches(t)},a.onTouchCancelled=function(t){P("Touch canceled"),this.readTouches(t)},a.onMouseMove=function(t){this._mousePosition.x=t.getLocationX(),this._mousePosition.y=t.getLocationY()},a.setZoom=function(t){this.orthoHeight=_.getVisibleSizeInPixel().height/devicePixelRatio*.5/t,this._scrollOrtographicSize=this.orthoHeight},a.setFitZoom=function(){this.orthoHeight=this._zoomMax},a.setPercentPosition=function(t){var i=new m(this._cameraLimits.x+t.x*this._cameraLimits.width,this._cameraLimits.y+t.y*this._cameraLimits.height,this.node.position.z);this.cameraPosition=i},r(i,[{key:"worldMousePosition",get:function(){var t=this.camera.screenToWorld(new m(this._mousePosition.x,this._mousePosition.y,0));return new p(t.x,t.y)}},{key:"orthoHeight",get:function(){return this.camera.orthoHeight},set:function(t){this.camera.orthoHeight=t,this.currentScale.string=Math.round(_.getVisibleSizeInPixel().height/devicePixelRatio*50/this.camera.orthoHeight)+"%",this.scrollInput.valueY=this.orthoHeight,this.cameraPosition=this.camera.node.position}},{key:"cameraPosition",set:function(t){var i=new y(this._cameraLimits);if(i.contentSize=i.contentSize.subtract(new p(2*this.orthoHeight*this._aspectRatio,2*this.orthoHeight)),i.size.x<0){var e=i.size;e.x=0,i.contentSize=new p(e.x,e.y)}if(i.size.y<0){var o=i.size;o.y=0,i.contentSize=new p(o.x,o.y)}this.camera.node.position=new m(z.clampf(t.x,i.xMin,i.xMax),z.clampf(t.y,i.yMin,i.yMax),this.camera.node.position.z)}}]),i}(S)).prototype,"zoomMin",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),O=i(L.prototype,"zoomStep",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),R=i(L.prototype,"zoomDuration",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),C=i(L.prototype,"panSpeed",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),V=i(L.prototype,"deceleration",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),A=i(L.prototype,"panMoveDelta",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.01}}),U=i(L.prototype,"smoothPan",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=i(L.prototype,"panEndAcceleration",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),Y=i(L.prototype,"touchInputPanel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(L.prototype,"camera",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(L.prototype,"limits",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(L.prototype,"scrollInput",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(L.prototype,"limitCamera",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),X=i(L.prototype,"currentScale",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=L))||H));a._RF.pop()}}}));

System.register("chunks:///_virtual/ContentManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./LocalSettings.ts","./WindowDirector.ts","./FileInput.ts","./DOMHelper.ts","./FileMetaProvider.ts","./ListScrollView.ts","./InputWindow.ts","./Bounds.ts","./MainScene.ts","./ScrollInput.ts","./PlayerCameraManager.ts","./PaginatedListScrollView.ts","./PhotoDownloader.ts","./CustomToggleButton.ts"],(function(e){"use strict";var t,n,i,o,r,a,l,s,u,c,d,p,h,m,f,I,_,g,w,b,x,y,v,F,S,P,D,E,C,M,T,W,z,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.defineProperty,a=e.createClass},function(e){l=e.cclegacy,s=e._decorator,u=e.Sprite,c=e.Label,d=e.log,p=e.UITransform,h=e.Vec2,m=e.Vec3,f=e.Component},function(e){I=e.default,_=e.InitialZoomType},function(e){g=e.default},function(e){w=e.FileInput,b=e.FileInputEventType},function(e){x=e.downloadTextFromBrowser},function(e){y=e.FileMetaProvider},function(e){v=e.ListScrollViewEvent},function(e){F=e.InputWindow,S=e.InputWindowEvents},function(e){P=e.Bounds},function(e){D=e.MainScene,E=e.MainSceneEventType},function(e){C=e.ScrollInput,M=e.ScrollInputEventType},function(e){T=e.PlayerCameraManager},function(e){W=e.PaginatedListScrollView},function(e){z=e.PhotoDownloader},function(e){L=e.CustomToggleButton}],execute:function(){var k,B,N,Z,V,A,O,R,U,J,j,H,X,Y,q,K,Q,G,$,ee,te,ne,ie,oe,re;l._RF.push({},"b4c25lpY2ZMyJ+W/r1pRudw","ContentManager",void 0);var ae=s.ccclass,le=s.property;e("ContentManager",(k=ae("ContentManager"),B=le(F),N=le(W),Z=le(z),V=le(w),A=le(u),O=le(T),R=le(C),U=le(c),J=le(c),j=le(L),H=le(L),k((q=t((Y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(o(t),"inputWindow",q,o(t)),i(o(t),"listScroll",K,o(t)),i(o(t),"photoDownloader",Q,o(t)),i(o(t),"textFileInput",G,o(t)),i(o(t),"targetSprite",$,o(t)),i(o(t),"camera",ee,o(t)),i(o(t),"scrollInput",te,o(t)),i(o(t),"currentIndex",ne,o(t)),i(o(t),"fileName",ie,o(t)),i(o(t),"likeButon",oe,o(t)),i(o(t),"deleteButon",re,o(t)),r(o(t),"_data",[]),r(o(t),"_selectedIdx",0),r(o(t),"_metaProvider",null),r(o(t),"_meta",null),t}n(t,e);var l=t.prototype;return l.start=function(){var e=this;this._metaProvider=new y,this.inputWindow.node.on(S.INPUT,(function(t){t.length>0&&g.instance.closeWindow("input"),e.processData(t)})),this.inputWindow.node.on(S.DOWNLOAD_META,(function(t){var n=e._metaProvider.getFileMeta(t);n&&x(t+".json",n.toJSON())})),this.listScroll.node.on(v.SELECT_ITEM,(function(t){e.loadPhotoWithIdx(t)})),this.textFileInput.node.on(b.DATA_RECEIVED,(function(t){e.processData(t,e.textFileInput.currentFileName),e.fileName.string=e.textFileInput.currentFileName})),this.getComponent(D).node.on(E.FILE_INPUT_REQUESTED,(function(){e.textFileInput.request()})),this.scrollInput.node.on(M.UPDATE_X,(function(t){d("JOYSTICK X "+t),t>0?e.next():t<1&&e.previous()}))},l.loadPhotoWithIdx=function(e){var t=this;e<this._data.length&&(this._selectedIdx=e,this.currentIndex.string=String(this._selectedIdx+1),this.photoDownloader.downloadPhoto(this._data[e]).then((function(e){t.targetSprite.spriteFrame=e.spriteFrame,t.targetSprite.node.getComponent(p).setContentSize(e.width,e.height);switch(t.camera.setLimits(new P(-e.width/2-70,-e.height/2-70,e.width+140,e.height+140)),I.instance.initialZoom){case _.CENTERED:t.camera.node.position=new m(0,0,t.camera.node.position.z),t.camera.setZoom(1);break;case _.FIT:t.camera.node.position=new m(0,0,t.camera.node.position.z),t.camera.setFitZoom();break;case _.COMICS:t.camera.setZoom(1),t.camera.setPercentPosition(new h(0,1))}t.likeButon.isChecked=t._meta.isLiked(t._selectedIdx),t.deleteButon.isChecked=t._meta.isDeleted(t._selectedIdx)})))},l.processData=function(e,t){this._data=e.split(/\r?\n/),this.trimEmptyEnd(),this.listScroll.setData(this._data),t&&(this._meta=this._metaProvider.getFileMeta(t))},l.trimEmptyEnd=function(){for(;this._data[this._data.length-1].length<=0;)this._data.pop()},l.next=function(){this._selectedIdx+1<this._data.length&&this.loadPhotoWithIdx(this._selectedIdx+1)},l.previous=function(){this._selectedIdx-1>=0&&this.loadPhotoWithIdx(this._selectedIdx-1)},l.setZoom=function(e,t){this.camera.setZoom(t)},l.makeFavorite=function(){this._meta&&(this._meta.isLiked(this._selectedIdx)?this._meta.removeFromFavorites(this._selectedIdx):this._meta.addFavorite({index:this._selectedIdx,url:this._data[this._selectedIdx]}))},l.deleteCurrent=function(){this._meta&&(this._meta.isDeleted(this._selectedIdx)?this._meta.restore(this._selectedIdx):this._meta.delete(this._selectedIdx))},l.openInputWindow=function(){g.instance.openWindow("input").setFilesWithMetaDate(this._metaProvider.files)},a(t,[{key:"selectedIndex",get:function(){return this._selectedIdx}}]),t}(f)).prototype,"inputWindow",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(Y.prototype,"listScroll",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(Y.prototype,"photoDownloader",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(Y.prototype,"textFileInput",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(Y.prototype,"targetSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Y.prototype,"camera",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Y.prototype,"scrollInput",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Y.prototype,"currentIndex",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Y.prototype,"fileName",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(Y.prototype,"likeButon",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(Y.prototype,"deleteButon",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=Y))||X));l._RF.pop()}}}));

System.register("chunks:///_virtual/Cover.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,o,n,i,c,l,a,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,l=e.Toggle,a=e.Node,u=e.Component}],execute:function(){var s,p,g,v,f,y,d;i._RF.push({},"bd830Gx3gZFZ5w86g0gBH2q","Cover",void 0);var h=c.ccclass,b=c.property;e("Cover",(s=h("Cover"),p=b(l),g=b(a),s((y=t((f=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,o(n(t),"toggle",y,n(t)),o(n(t),"cover",d,n(t)),t}return r(t,e),t.prototype.onLoad=function(){var e=this;this.toggle.node.on(l.EventType.TOGGLE,(function(t){e.cover.active=e.toggle.isChecked}))},t}(u)).prototype,"toggle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(f.prototype,"cover",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=f))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/PaginatedListScrollView.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ListScrollView.ts"],(function(t){"use strict";var e,i,a,n,r,l,s,o,c,u,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.defineProperty},function(t){l=t.cclegacy,s=t._decorator,o=t.log,c=t.Component},function(t){u=t.ListScrollView,g=t.ListScrollViewEvent}],execute:function(){var p,h,f,P,d,S,m,y;l._RF.push({},"c0635F5grpDSaP3jpMUNipe","PaginatedListScrollView",void 0);var w=s.ccclass,v=s.property;t("PaginatedListScrollView",(p=w("PaginatedListScrollView"),h=v(u),f=v(u),p((S=e((d=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return e=t.call.apply(t,[this].concat(l))||this,a(n(e),"listScroll",S,n(e)),a(n(e),"paginator",m,n(e)),a(n(e),"itemsOnPage",y,n(e)),r(n(e),"_data",[]),e}i(e,t);var l=e.prototype;return l.start=function(){var t=this;this.paginator.node.on(g.SELECT_ITEM,(function(e){o("+"),o(e),t.setPage(e)}))},l.setData=function(t){this._data=t;var e=Math.ceil(t.length/this.itemsOnPage),i=new Array(e).fill(1).map((function(t,e){return String(e+1)}));this.paginator.setData(i),this.setPage(0)},l.setPage=function(t){var e=this.itemsOnPage*t,i=e+this.itemsOnPage>this._data.length?this._data.length:e+this.itemsOnPage;this.listScroll.setData(this._data.slice(this.itemsOnPage*t,i),e)},e}(c)).prototype,"listScroll",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(d.prototype,"paginator",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(d.prototype,"itemsOnPage",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),P=d))||P));l._RF.pop()}}}));

System.register("chunks:///_virtual/PanelManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./DockPanel.ts","./CustomToggleButton.ts"],(function(e){"use strict";var t,n,o,r,a,i,l,c,u,s,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,o=e.inheritsLoose,r=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,l=e._decorator,c=e.Component,u=e.Toggle},function(e){s=e.DockPanel},function(e){g=e.CustomToggleButton}],execute:function(){var p,f,h,P,y,b,d,v,D,k,T,m;i._RF.push({},"d1a7aBaoZ1I0a+yQXqjPz+X","PanelManager",void 0);var z=l.ccclass,w=l.property,M=e("ToggleDockPanel",(p=z("ToggleDockPanel"),f=w(g),h=w(s),p((b=t((y=function(){n(this,"toggle",b,this),n(this,"panel",d,this)}).prototype,"toggle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(y.prototype,"panel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=y))||P));e("PanelManager",(v=z("PanelManager"),D=w([M]),v((m=t((T=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,n(r(t),"toggleDockPanels",m,r(t)),t}return o(t,e),t.prototype.start=function(){for(var e,t=function(){var t=e.value,n=t.panel;t.toggle.node.on(u.EventType.TOGGLE,(function(e){e.isChecked?n.show():n.hide()}))},n=a(this.toggleDockPanels);!(e=n()).done;)t()},t}(c)).prototype,"toggleDockPanels",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=T))||k));i._RF.pop()}}}));

System.register("chunks:///_virtual/ListScrollView.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ListItem.ts"],(function(e){"use strict";var t,n,i,o,r,l,s,c,a,u,d,p,f,h,v,w,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.defineProperty},function(e){l=e.cclegacy,s=e._decorator,c=e.ScrollView,a=e.Node,u=e.Prefab,d=e.find,p=e.assert,f=e.instantiate,h=e.Vec2,v=e.Component},function(e){w=e.ListItem,m=e.ListItemEvent}],execute:function(){var L,S,b,g,y,E,V,_;e("ListScrollViewEvent",void 0),l._RF.push({},"d33dd/o0jROwIxM5fd52GwI","ListScrollView",void 0);var C,I=s.ccclass,N=s.property,P=s.requireComponent;!function(e){e.SELECT_ITEM="select item"}(C||(C=e("ListScrollViewEvent",{})));e("ListScrollView",(L=I("ListScrollView"),S=P(c),b=N(a),g=N(u),L(y=S((V=t((E=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,i(o(t),"contentNode",V,o(t)),i(o(t),"itemPrefab",_,o(t)),r(o(t),"_scrollView",null),t}n(t,e);var l=t.prototype;return l.onLoad=function(){this._scrollView=this.getComponent(c),this.contentNode||(this.contentNode=d("view/content",this.node)),p(this.contentNode,"Can't find content node")},l.setData=function(e,t){var n=this;this.contentNode.removeAllChildren();for(var i=0;i<e.length;i++){var o=e[i],r=f(this.itemPrefab);r.parent=this.contentNode;var l=r.getComponent(w);l&&(l.init(),t?l.setString(i+t,o):l.setString(i,o),l.node.on(m.SELECT,(function(e){n.node.emit(C.SELECT_ITEM,e)})))}this._scrollView.scrollTo(new h(0,1))},t}(v)).prototype,"contentNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(E.prototype,"itemPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E))||y)||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/CocosTemplateScrollFix.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var o,t,c,r;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,c=e._decorator,r=e.Component}],execute:function(){var n;t._RF.push({},"e0bc34amDJLLYX2I2STuSMG","CocosTemplateScrollFix",void 0);var l=c.ccclass;c.property,e("CocosTemplateScrollFix",l("CocosTemplateScrollFix")(n=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){document.getElementById("GameDiv").style.border="0px"},t}(r))||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/ToggleNoCheckmark.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,r,n,c,i,a,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){c=e.cclegacy,i=e._decorator,a=e.Node,l=e.Toggle,s=e.Component}],execute:function(){var u,k,p,h,g;c._RF.push({},"e196cGXIVtPo7c6mDw7kgPk","ToggleNoCheckmark",void 0);var m=i.ccclass,f=i.property;e("ToggleNoCheckmark",(u=m("ToggleNoCheckmark"),k=f(a),u((g=t((h=function(e){function t(){for(var t,o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return t=e.call.apply(e,[this].concat(c))||this,r(n(t),"noCheckmark",g,n(t)),t}return o(t,e),t.prototype.start=function(){var e=this;this.node.getComponent(l)&&this.node.on(l.EventType.TOGGLE,(function(t){var o=t;o&&e.noCheckmark&&(e.noCheckmark.active=!o.isChecked)}))},t}(s)).prototype,"noCheckmark",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=h))||p));c._RF.pop()}}}));

System.register("chunks:///_virtual/PhotoDownloader.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,o,i,n,a,h,u,c,s,l,p,d,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,h=e.Sprite,u=e.assetManager,c=e.SpriteFrame,s=e.Texture2D,l=e.UITransform,p=e.error,d=e.log,g=e.Component}],execute:function(){var w,f,m,v,S;n._RF.push({},"ef08boU05JLQYSWPExaVN7c","PhotoDownloader",void 0);var y=a.ccclass,P=a.property;e("PhotoDownloader",(w=y("PhotoDownloader"),f=P(h),w((S=t((v=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(i(t),"targetSprite",S,i(t)),t}r(t,e);var n=t.prototype;return n.start=function(){},n.downloadAndShow=function(e){var t=this;u.loadRemote(e,(function(e,r){var o=r,i=new c,n=new s;n.image=o,i.texture=n,t.targetSprite.spriteFrame=i,t.targetSprite.node.getComponent(l).setContentSize(o.width,o.height)}))},n.downloadPhoto=function(e){return new Promise((function(t,r){u.loadRemote(e,(function(e,o){if(e)return p(e.message),void r(e);var i=o,n=new c,a=new s;a.image=i,n.texture=a,d("image width "+i.width+" height "+i.height+" texture width "+a.width+" height "+a.height),t({spriteFrame:n,width:i.width,height:i.height})}))}))},t}(g)).prototype,"targetSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/CustomToggleButton.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,o,s,a,u,r,c,l,h,E,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.defineProperty,o=t.assertThisInitialized,s=t.initializerDefineProperty,a=t.createClass},function(t){u=t.cclegacy,r=t._decorator,c=t.Button,l=t.Node,h=t.assert,E=t.Toggle,d=t.Component}],execute:function(){var p,f,g,C,T,m,v,b;t({CustomToggleButtonEventType:void 0,CustomToggleButtonState:void 0}),u._RF.push({},"f27d1EF1F1KO5DVy9O+vHMA","CustomToggleButton",void 0);var S,y,L=r.ccclass,_=r.property,B=r.requireComponent;!function(t){t.SELECTED="touch"}(S||(S=t("CustomToggleButtonEventType",{}))),function(t){t.NORMAL="normal",t.SELECTED="selected",t.INACTIVE="inactive"}(y||(y=t("CustomToggleButtonState",{})));t("CustomToggleButton",(p=L("CustomToggleButton"),f=B(c),g=_(l),C=_(l),p(T=f((v=e((m=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a))||this,i(o(e),"_initialized",!1),i(o(e),"_button",null),i(o(e),"_buttonState",y.NORMAL),s(o(e),"selected",v,o(e)),s(o(e),"normal",b,o(e)),e}n(e,t);var u=e.prototype;return u.init=function(){var t=this;h(this.selected,"Can't find state of quiz button"),h(this.normal,"Can't find state of quiz button"),this._button=this.getComponent(c),h(this._button,"Button has to be"),this.node.on(c.EventType.CLICK,(function(e){t.buttonState==y.NORMAL?t.setState(y.SELECTED):t.buttonState==y.SELECTED&&t.setState(y.NORMAL)})),this._initialized=!0},u.onLoad=function(){this._initialized||this.init()},u.setState=function(t){switch(this._initialized||this.init(),this._buttonState=t,t){case y.NORMAL:this.selected.active=!1,this.normal.active=!0,this.node.emit(E.EventType.TOGGLE,this);break;case y.SELECTED:this.selected.active=!0,this.normal.active=!1,this.node.emit(E.EventType.TOGGLE,this);break;case y.INACTIVE:this.selected.active=!1,this.normal.active=!1}},a(e,[{key:"buttonState",get:function(){return this._buttonState}},{key:"isChecked",get:function(){return this._buttonState==y.SELECTED},set:function(t){this.setState(t?y.SELECTED:y.NORMAL)}}]),e}(d)).prototype,"selected",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(m.prototype,"normal",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=m))||T)||T));u._RF.pop()}}}));

System.register("chunks:///_virtual/BlackFadeTransition.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./TransitionBase.ts"],(function(t){"use strict";var n,r,i,e,a,o,c,s,u,l,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,c=t.Sprite,s=t.assert,u=t.tween,l=t.Color},function(t){p=t.TransitionBase}],execute:function(){var f,h,d,v,y;a._RF.push({},"f65c5enThtBIbb0g799PfqO","BlackFadeTransition",void 0);var B=o.ccclass,T=o.property;t("BlackFadeTransition",(f=B("BlackFadeTransition"),h=T(c),f((y=n((v=function(t){function n(){for(var n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,i(e(n),"curtain",y,e(n)),n}r(n,t);var a=n.prototype;return a.begin=function(){var t=this;return s(this.curtain,"No curtain"),new Promise((function(n){u(t.curtain).to(.15,{color:l.BLACK}).call(n).start()}))},a.end=function(){var t=this;return s(this.curtain,"No curtain"),new Promise((function(n){u(t.curtain).to(.15,{color:new l(0,0,0,0)}).call(n).start()}))},n}(p)).prototype,"curtain",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,n,t,i,c,a,o,u,l,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,t=e.inheritsLoose,i=e.assertThisInitialized,c=e.defineProperty,a=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,u=e._decorator,l=e.Node,s=e.Component}],execute:function(){var f,p,S,h,b,d,y,g,v,m,_,z;o._RF.push({},"f6951eDGS5KLar180caEqSX","ScreenManager",void 0);var w=u.ccclass,D=u.property,M=e("ScreenNode",(f=w("ScreenNode"),p=D(l),f((b=r((h=function(){n(this,"name",b,this),n(this,"screen",d,this)}).prototype,"name",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=r(h.prototype,"screen",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=h))||S));e("ScreenManager",(y=w("ScreenManager"),g=D([M]),y((_=r((m=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,n(i(r),"screens",_,i(r)),n(i(r),"defaultScreen",z,i(r)),c(i(r),"_currentScreen",null),r}t(r,e);var o=r.prototype;return o.runDefaultScreen=function(){this.runScreen(this.defaultScreen)},o.runScreen=function(e){for(var r,n=a(this.screens);!(r=n()).done;){var t=r.value;t.name==e?(t.screen.active=!0,this._currentScreen=t.screen):t.screen.active=!1}},r}(s)).prototype,"screens",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=r(m.prototype,"defaultScreen",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=m))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./WindowTransitionBase.ts","./FadeWindowTransition.ts","./LocalSettings.ts","./WindowManager.ts","./WindowDirector.ts","./Window.ts","./SettingsWindow.ts","./FileInput.ts","./DOMHelper.ts","./FileMeta.ts","./FileMetaProvider.ts","./FileData.ts","./ListItem.ts","./ScreenManager.ts","./TransitionBase.ts","./ScreenDirector.ts","./ListScrollView.ts","./InputWindow.ts","./StrokeBorder.ts","./Bounds.ts","./Favorite.ts","./ResetWorldPosition.ts","./MainScene.ts","./ScrollInput.ts","./DockPanel.ts","./PlayerCameraManager.ts","./PaginatedListScrollView.ts","./PhotoDownloader.ts","./CustomToggleButton.ts","./ContentManager.ts","./Cover.ts","./PanelManager.ts","./CocosTemplateScrollFix.ts","./ToggleNoCheckmark.ts","./BlackFadeTransition.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});